<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Performs NCA calculations and population PK model diagnosis. — ncappc • ncappc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Performs NCA calculations and population PK model diagnosis. — ncappc"><meta name="description" content="ncappc is a flexible tool, to
perform a traditional NCA
perform simulation-based posterior predictive checks for a
population PK model using NCA metrics.

"><meta property="og:description" content="ncappc is a flexible tool, to
perform a traditional NCA
perform simulation-based posterior predictive checks for a
population PK model using NCA metrics.

"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ncappc</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.0.9004</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ncappc-vignette.html">Introduction to the ncappc package</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/UUPharmacometrics/ncappc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Performs NCA calculations and population PK model diagnosis.</h1>
      <small class="dont-index">Source: <a href="https://github.com/UUPharmacometrics/ncappc/blob/master/R/ncappc.R" class="external-link"><code>R/ncappc.R</code></a></small>
      <div class="d-none name"><code>ncappc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><span class="pkg">ncappc</span> is a flexible tool, to</p><ol><li><p>perform a traditional NCA</p></li>
<li><p>perform simulation-based posterior predictive checks for a
population PK model using NCA metrics.</p></li>
</ol></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ncappc</span><span class="op">(</span></span>
<span>  obsFile <span class="op">=</span> <span class="st">"nca_original.npctab.dta"</span>,</span>
<span>  simFile <span class="op">=</span> <span class="st">"nca_simulation.1.npctab.dta.zip"</span>,</span>
<span>  str1Nm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  str1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  str2Nm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  str2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  str3Nm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  str3 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  concUnit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  timeUnit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  doseUnit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  obsLog <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  simLog <span class="op">=</span> <span class="va">obsLog</span>,</span>
<span>  psnOut <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  idNmObs <span class="op">=</span> <span class="st">"ID"</span>,</span>
<span>  timeNmObs <span class="op">=</span> <span class="st">"TIME"</span>,</span>
<span>  concNmObs <span class="op">=</span> <span class="st">"DV"</span>,</span>
<span>  idNmSim <span class="op">=</span> <span class="va">idNmObs</span>,</span>
<span>  timeNmSim <span class="op">=</span> <span class="va">timeNmObs</span>,</span>
<span>  concNmSim <span class="op">=</span> <span class="va">concNmObs</span>,</span>
<span>  onlyNCA <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  AUCTimeRange <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  backExtrp <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  LambdaTimeRange <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  LambdaExclude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  doseAmtNm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  adminType <span class="op">=</span> <span class="st">"extravascular"</span>,</span>
<span>  doseType <span class="op">=</span> <span class="st">"ns"</span>,</span>
<span>  doseTime <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Tau <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  TI <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"linearup-logdown"</span>,</span>
<span>  blqNm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  blqExcl <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  evid <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  evidIncl <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  mdv <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  filterNm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filterExcl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  negConcExcl <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AUClast"</span>, <span class="st">"Cmax"</span><span class="op">)</span>,</span>
<span>  timeFormat <span class="op">=</span> <span class="st">"number"</span>,</span>
<span>  dateColNm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dateFormat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spread <span class="op">=</span> <span class="st">"npi"</span>,</span>
<span>  tabCol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AUClast"</span>, <span class="st">"Cmax"</span>, <span class="st">"Tmax"</span>, <span class="st">"AUCINF_obs"</span>, <span class="st">"Vz_obs"</span>, <span class="st">"Cl_obs"</span>, <span class="st">"HL_Lambda_z"</span><span class="op">)</span>,</span>
<span>  figFormat <span class="op">=</span> <span class="st">"tiff"</span>,</span>
<span>  noPlot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  printOut <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  studyName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_data_method <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  overwrite_SIMDATA <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite_sim_est_file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outFileNm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  out_format <span class="op">=</span> <span class="st">"html"</span>,</span>
<span>  gg_theme <span class="op">=</span> <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  extrapolate <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  timing <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-obsfile">obsFile<a class="anchor" aria-label="anchor" href="#arg-obsfile"></a></dt>
<dd><p>Observed concentration-time data from an internal data frame
or an external table with comma, tab or space as separators.</p></dd>


<dt id="arg-simfile">simFile<a class="anchor" aria-label="anchor" href="#arg-simfile"></a></dt>
<dd><p>NONMEM simulation output with the simulated concentration-time
data from an internal data frame or an external table. <code>NULL</code> produces
just the NCA output, a filename or data frame produces the NCA output as
well as the PopPK diagnosis. If <code>new_data_method=TRUE</code> then this can
be a compressed file as well.</p></dd>


<dt id="arg-str-nm">str1Nm<a class="anchor" aria-label="anchor" href="#arg-str-nm"></a></dt>
<dd><p>Column name for 1st level population stratifier. Default is
<strong><code>NULL</code></strong></p></dd>


<dt id="arg-str-">str1<a class="anchor" aria-label="anchor" href="#arg-str-"></a></dt>
<dd><p>Stratification ID of the members within 1st level stratification
(e.g c(1,2)). Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-str-nm">str2Nm<a class="anchor" aria-label="anchor" href="#arg-str-nm"></a></dt>
<dd><p>Column name for 2nd level population stratifier. Default is
<strong><code>NULL</code></strong></p></dd>


<dt id="arg-str-">str2<a class="anchor" aria-label="anchor" href="#arg-str-"></a></dt>
<dd><p>Stratification ID of the members within 2nd level stratification
(e.g c(1,2)). Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-str-nm">str3Nm<a class="anchor" aria-label="anchor" href="#arg-str-nm"></a></dt>
<dd><p>Column name for 3rd level population stratifier. Default is
<strong><code>NULL</code></strong></p></dd>


<dt id="arg-str-">str3<a class="anchor" aria-label="anchor" href="#arg-str-"></a></dt>
<dd><p>Stratification ID of the members within 3rd level stratification
(e.g c(1,2)). Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-concunit">concUnit<a class="anchor" aria-label="anchor" href="#arg-concunit"></a></dt>
<dd><p>Unit of concentration (e.g. "ng/mL"). Default is
<strong><code>NULL</code></strong></p></dd>


<dt id="arg-timeunit">timeUnit<a class="anchor" aria-label="anchor" href="#arg-timeunit"></a></dt>
<dd><p>Unit of time (e.g. "h"). Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-doseunit">doseUnit<a class="anchor" aria-label="anchor" href="#arg-doseunit"></a></dt>
<dd><p>Unit of dose amount (e.g. "ng"). Default is
<strong><code>NULL</code></strong></p></dd>


<dt id="arg-obslog">obsLog<a class="anchor" aria-label="anchor" href="#arg-obslog"></a></dt>
<dd><p>If <code>TRUE</code> concentration in observed data is in logarithmic
scale. Default is <strong><code>FALSE</code></strong></p></dd>


<dt id="arg-simlog">simLog<a class="anchor" aria-label="anchor" href="#arg-simlog"></a></dt>
<dd><p>If <code>TRUE</code> concentration in simulated data is in
logarithmic scale. Default is <strong><code>FALSE</code></strong></p></dd>


<dt id="arg-psnout">psnOut<a class="anchor" aria-label="anchor" href="#arg-psnout"></a></dt>
<dd><p>If <code>TRUE</code> observed data is an output from PsN or in NONMEM
output format. Default is <strong><code>TRUE</code></strong></p></dd>


<dt id="arg-idnmobs">idNmObs<a class="anchor" aria-label="anchor" href="#arg-idnmobs"></a></dt>
<dd><p>Column name for ID in observed data. Default is <strong>"ID"</strong></p></dd>


<dt id="arg-timenmobs">timeNmObs<a class="anchor" aria-label="anchor" href="#arg-timenmobs"></a></dt>
<dd><p>Column name for time in observed data. Default is
<strong>"TIME"</strong></p></dd>


<dt id="arg-concnmobs">concNmObs<a class="anchor" aria-label="anchor" href="#arg-concnmobs"></a></dt>
<dd><p>Column name for concentration in observed data. Default is
<strong>"DV"</strong></p></dd>


<dt id="arg-idnmsim">idNmSim<a class="anchor" aria-label="anchor" href="#arg-idnmsim"></a></dt>
<dd><p>Column name for ID in simulated data. Default is <strong>"ID"</strong></p></dd>


<dt id="arg-timenmsim">timeNmSim<a class="anchor" aria-label="anchor" href="#arg-timenmsim"></a></dt>
<dd><p>Column name for time in simulated data. Default is
<strong>"TIME"</strong></p></dd>


<dt id="arg-concnmsim">concNmSim<a class="anchor" aria-label="anchor" href="#arg-concnmsim"></a></dt>
<dd><p>Column name for concentration in simulated data. Default is
<strong>"DV"</strong></p></dd>


<dt id="arg-onlynca">onlyNCA<a class="anchor" aria-label="anchor" href="#arg-onlynca"></a></dt>
<dd><p>If <code>TRUE</code> only NCA is performed and ppc part is ignored
although simFile is not <code>NULL</code>. Default is <strong><code>FALSE</code></strong></p></dd>


<dt id="arg-auctimerange">AUCTimeRange<a class="anchor" aria-label="anchor" href="#arg-auctimerange"></a></dt>
<dd><p>User-defined window of time used to estimate AUC. Default
is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-backextrp">backExtrp<a class="anchor" aria-label="anchor" href="#arg-backextrp"></a></dt>
<dd><p>If <code>TRUE</code> back-extrapolation is performed while
estimating AUC. Default is <strong><code>FALSE</code></strong></p></dd>


<dt id="arg-lambdatimerange">LambdaTimeRange<a class="anchor" aria-label="anchor" href="#arg-lambdatimerange"></a></dt>
<dd><p>User-defined window of time to estimate elimination
rate-constant. This argument lets the user to choose a specific window of
time to be used to estimate the elimination rate constant (Lambda) in the
elimination phase. The accepted format for the input to this argument is a
numeric array of two elements; <code>c(14,24)</code> will estimate the Lambda
using the data within the time units 14 to 24. Default is
<strong><code>NULL</code></strong></p></dd>


<dt id="arg-lambdaexclude">LambdaExclude<a class="anchor" aria-label="anchor" href="#arg-lambdaexclude"></a></dt>
<dd><p>User-defined excluded observation time points for
estimation of Lambda. This can be numeric value or logical condition (e.g.
c(1, 2, "&lt;20", "&gt;=100", "!=100")). Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-doseamtnm">doseAmtNm<a class="anchor" aria-label="anchor" href="#arg-doseamtnm"></a></dt>
<dd><p>Column name to specify dose amount. Default is
<strong><code>NULL</code></strong></p></dd>


<dt id="arg-admintype">adminType<a class="anchor" aria-label="anchor" href="#arg-admintype"></a></dt>
<dd><p>Route of administration. Allowed options are iv-bolus,
iv-infusion or extravascular. Default is <strong>"extravascular"</strong></p></dd>


<dt id="arg-dosetype">doseType<a class="anchor" aria-label="anchor" href="#arg-dosetype"></a></dt>
<dd><p>Steady-state (ss) or non-steady-state (ns) dose. Default is
<strong>"ns"</strong></p></dd>


<dt id="arg-dosetime">doseTime<a class="anchor" aria-label="anchor" href="#arg-dosetime"></a></dt>
<dd><p>Dose time prior to the first observation for steady-state
data. Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-tau">Tau<a class="anchor" aria-label="anchor" href="#arg-tau"></a></dt>
<dd><p>Dosing interval for steady-state data. Default is
<strong><code>NULL</code></strong></p></dd>


<dt id="arg-ti">TI<a class="anchor" aria-label="anchor" href="#arg-ti"></a></dt>
<dd><p>Infusion duration. If TI is a single numeric value, TI is the same
for all individuals. If TI is the name of a column with numeric data
present in the data set, TI is set to the unique value of the column for a
given individual. Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Method to estimate AUC. <code>linear</code> method applies the linear
trapezoidal rule to estimate the area under the curve. <code>log</code> method
applies the logarithmic trapezoidal rule to estimate the area under the
curve. <code>linearup-logdown</code> method applies the linear trapezoidal rule
to estimate the area under the curve for the ascending part of the curve
and the logarithmic trapezoidal rule to estimate the area under the curve
for the descending part of the curve. Default is
<strong>"linearup-logdown"</strong></p></dd>


<dt id="arg-blqnm">blqNm<a class="anchor" aria-label="anchor" href="#arg-blqnm"></a></dt>
<dd><p>Name of BLQ column if used to exclude data. Default is
<strong><code>NULL</code></strong></p></dd>


<dt id="arg-blqexcl">blqExcl<a class="anchor" aria-label="anchor" href="#arg-blqexcl"></a></dt>
<dd><p>Excluded BLQ value; either a numeric value or a logical
condition (e.g. 1 or "&gt;=1" or c(1,"&gt;3")). Used only if the <code>blqNm</code> is
not <code>NULL</code>. Default is <strong>"1"</strong></p></dd>


<dt id="arg-evid">evid<a class="anchor" aria-label="anchor" href="#arg-evid"></a></dt>
<dd><p>If <code>TRUE</code> EVID is used to filter data. Default is
<strong><code>TRUE</code></strong></p></dd>


<dt id="arg-evidincl">evidIncl<a class="anchor" aria-label="anchor" href="#arg-evidincl"></a></dt>
<dd><p>Included values in EVID. Default is <strong>"0"</strong></p></dd>


<dt id="arg-mdv">mdv<a class="anchor" aria-label="anchor" href="#arg-mdv"></a></dt>
<dd><p>If <code>TRUE</code> MDV is used to include data when MDV=0. Default is
<strong><code>FALSE</code></strong></p></dd>


<dt id="arg-filternm">filterNm<a class="anchor" aria-label="anchor" href="#arg-filternm"></a></dt>
<dd><p>Column name to filter data. Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-filterexcl">filterExcl<a class="anchor" aria-label="anchor" href="#arg-filterexcl"></a></dt>
<dd><p>Row exclusion criteria based on the column defined by
<code>filterNm</code>. This can be numeric value or logical condition (e.g. c(1,
2, "&lt;20", "&gt;=100", "!=100")). Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-negconcexcl">negConcExcl<a class="anchor" aria-label="anchor" href="#arg-negconcexcl"></a></dt>
<dd><p>If <code>TRUE</code> negative concentrations are excluded.
Default is <strong><code>FALSE</code></strong></p></dd>


<dt id="arg-param">param<a class="anchor" aria-label="anchor" href="#arg-param"></a></dt>
<dd><p>NCA parameters (AUClast, AUClower_upper, AUCINF_obs,
AUCINF_pred, AUMClast, Cmax, Tmax, HL_Lambda_z). Default is
<strong>(c"AUClast", "Cmax")</strong></p></dd>


<dt id="arg-timeformat">timeFormat<a class="anchor" aria-label="anchor" href="#arg-timeformat"></a></dt>
<dd><p>time format (number, H:M, H:M:S). Default is
<strong>"number"</strong></p></dd>


<dt id="arg-datecolnm">dateColNm<a class="anchor" aria-label="anchor" href="#arg-datecolnm"></a></dt>
<dd><p>column name for date if used (e.g. "Date", "DATE"). Default
is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-dateformat">dateFormat<a class="anchor" aria-label="anchor" href="#arg-dateformat"></a></dt>
<dd><p>date format (D-M-Y, D/M/Y or any other combination of
D,M,Y). Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-spread">spread<a class="anchor" aria-label="anchor" href="#arg-spread"></a></dt>
<dd><p>Measure of the spread of simulated data (<code>"ppi"</code> (95%
parametric prediction interval) or <code>"npi"</code> (95% nonparametric
prediction interval)). Default is <strong>"npi"</strong></p></dd>


<dt id="arg-tabcol">tabCol<a class="anchor" aria-label="anchor" href="#arg-tabcol"></a></dt>
<dd><p>Output columns to be printed in the report in addition to ID,
dose and population strata information (list of NCA metrics in a string
array). Default is <strong>c("AUClast", "Cmax", "Tmax", "AUCINF_obs",
"Vz_obs", "Cl_obs", "HL_Lambda_z")</strong></p></dd>


<dt id="arg-figformat">figFormat<a class="anchor" aria-label="anchor" href="#arg-figformat"></a></dt>
<dd><p>format of the produced figures (bmp, jpeg, tiff, png).
Default is <strong>"tiff"</strong></p></dd>


<dt id="arg-noplot">noPlot<a class="anchor" aria-label="anchor" href="#arg-noplot"></a></dt>
<dd><p>If <code>TRUE</code> only NCA calculations are performed without any
plot generation. Default is <strong><code>FALSE</code></strong></p></dd>


<dt id="arg-printout">printOut<a class="anchor" aria-label="anchor" href="#arg-printout"></a></dt>
<dd><p>If <code>TRUE</code> tabular and graphical outputs are saved on the
disk. Default is <strong><code>TRUE</code></strong></p></dd>


<dt id="arg-studyname">studyName<a class="anchor" aria-label="anchor" href="#arg-studyname"></a></dt>
<dd><p>Name of the study to be added as a description in the
report. Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-new-data-method">new_data_method<a class="anchor" aria-label="anchor" href="#arg-new-data-method"></a></dt>
<dd><p>If <code>TRUE</code> a faster method of reading data is
tested. Default is <strong><code>TRUE</code></strong></p></dd>


<dt id="arg-overwrite-simdata">overwrite_SIMDATA<a class="anchor" aria-label="anchor" href="#arg-overwrite-simdata"></a></dt>
<dd><p>If <code>TRUE</code> new information is created in the
SIMDATA directory. If <code>FALSE</code> the information in the SIMDATA directory
is used. If <code>NULL</code> a dialog will come up to ask the user what to do.
Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-overwrite-sim-est-file">overwrite_sim_est_file<a class="anchor" aria-label="anchor" href="#arg-overwrite-sim-est-file"></a></dt>
<dd><p>If <code>TRUE</code> The NCA metrics are created again based
on the simulation data.  If <code>FALSE</code> the information in the ncaSimEst file
  is used. If <code>NULL</code> a dialog will come up to ask the user what to do.
  Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-outfilenm">outFileNm<a class="anchor" aria-label="anchor" href="#arg-outfilenm"></a></dt>
<dd><p>Additional tag to the name of the output html and pdf output
file hyphenated to the standard ncappc report file name standard ncappc
report file name. Default is <strong><code>NULL</code></strong></p></dd>


<dt id="arg-out-format">out_format<a class="anchor" aria-label="anchor" href="#arg-out-format"></a></dt>
<dd><p>What type of output format should the NCA report have?
Pass "all" to render all formats defined within the rmarkdown file.
Pass "first" to render the first format defined within the rmarkdown file.
Pass "html" to render in HTML.
Pass "pdf" to render in PDF.</p></dd>


<dt id="arg-gg-theme">gg_theme<a class="anchor" aria-label="anchor" href="#arg-gg-theme"></a></dt>
<dd><p>Which ggplot theme should be used for the plots?</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>Should the nca computations for the simulated data be run in parallel? See
<code><a href="https://andrewhooker.github.io/PopED/reference/start_parallel.html" class="external-link">start_parallel</a></code> for a description and additional arguments that can be
added to this function and passed to <code><a href="https://andrewhooker.github.io/PopED/reference/start_parallel.html" class="external-link">start_parallel</a></code>.</p></dd>


<dt id="arg-extrapolate">extrapolate<a class="anchor" aria-label="anchor" href="#arg-extrapolate"></a></dt>
<dd><p>Should the NCA calculations extrapolate from the last observation to infinity?</p></dd>


<dt id="arg-timing">timing<a class="anchor" aria-label="anchor" href="#arg-timing"></a></dt>
<dd><p>Should timings of calculations be reported to the screen?</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to other functions, including <code><a href="https://andrewhooker.github.io/PopED/reference/start_parallel.html" class="external-link">start_parallel</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>NCA results and diagnostic test results</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Non-compartmental analysis (NCA) calculates pharmacokinetic (PK) metrics
related to the systemic exposure to a drug following administration, e.g.
area under the concentration-time curve and peak concentration. <span class="pkg">ncappc</span>
performs a traditional NCA using the observed plasma concentration-time data.
In the presence of simulated plasma concentration-time data, <span class="pkg">ncappc</span>
also performs simulation-based posterior predictive checks (ppc) using NCA
metrics for the corresponding population PK (PopPK) model used to generate
the simulated data. The diagnostic analysis is performed at the population as
well as the individual level. The distribution of the simulated population
means of each NCA metric is compared with the corresponding observed
population mean. The individual level comparison is performed based on the
deviation of the mean of any NCA metric based on simulations for an
individual from the corresponding NCA metric obtained from the observed data.
Additionally, <span class="pkg">ncappc</span> reports the normalized prediction distribution
error (NPDE) of the simulated NCA metrics for each individual and their
distribution within a population. <span class="pkg">ncappc</span> produces two default outputs
depending on the type of analysis performed, i.e., traditional NCA and PopPK
diagnosis. The PopPK diagnosis feature of <span class="pkg">ncappc</span> produces 7 sets of
graphical outputs to assess the ability of a population model to simulate the
concentration-time profile of a drug and thereby identify model
misspecification. In addition, tabular outputs are generated showing the
values of the NCA metrics estimated from the observed and the simulated data,
along with the deviation, NPDE, regression parameters used to estimate the
elimination rate constant and the related population statistics. The default
values of the arguments used in <span class="pkg">ncappc</span> are shown in the <strong>Usage</strong>
section of this document and/or in <strong>bold</strong> in the <strong>Arguments</strong>
section.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">ncappc</span><span class="op">(</span>obsFile<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,<span class="st">"pkdata.csv"</span>,package<span class="op">=</span><span class="st">"ncappc"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  onlyNCA <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  extrapolate <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  printOut <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  evid <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  psnOut<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  ID<span class="op">=</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span>  TIME <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0.25</span>,<span class="fl">0.5</span>,<span class="fl">1</span>,<span class="fl">1.5</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">6</span>,<span class="fl">8</span>,<span class="fl">12</span>,<span class="fl">16</span>,<span class="fl">24</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  DV<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.07</span>, <span class="fl">0.14</span>, <span class="fl">0.21</span>, <span class="fl">0.24</span>, <span class="fl">0.27</span>, <span class="fl">0.26</span>, <span class="fl">0.25</span>, <span class="fl">0.22</span>, <span class="fl">0.19</span>, <span class="fl">0.13</span>, <span class="fl">0.081</span>, <span class="fl">0.033</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out_1</span> <span class="op">&lt;-</span> <span class="fu">ncappc</span><span class="op">(</span>obsFile<span class="op">=</span><span class="va">data_1</span>,</span></span>
<span class="r-in"><span>                onlyNCA <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                extrapolate <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                printOut <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                evid <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                timing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Time taken to estimate NCA parameters on observed data: 0.025 seconds.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data_2</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">data_1</span>,<span class="va">TIME</span><span class="op">&gt;</span><span class="fl">17</span><span class="op">|</span><span class="va">TIME</span><span class="op">&lt;</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out_2</span> <span class="op">&lt;-</span> <span class="fu">ncappc</span><span class="op">(</span>obsFile<span class="op">=</span><span class="va">data_2</span>,</span></span>
<span class="r-in"><span>                onlyNCA <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                extrapolate <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                printOut <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                evid <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                force_extrapolate<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Chayan Acharya, Gulbeyaz Y. Turkyilmaz, Siv Jonsson, Mats O. Karlsson, <a href="https://katalog.uu.se/profile/?id=N4-631" class="external-link">Andrew C. Hooker</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

